–î–∞–≤–∞–π —Ä–∞–∑–±–µ—Ä—ë–º—Å—è ‚Äî **—á—Ç–æ —Ç–∞–∫–æ–µ –º–∞—Å—à—Ç–∞–± (scale)** 
–∏ **–æ–∫—Ä—É–≥–ª–µ–Ω–∏–µ (rounding)** —É —Ç–∏–ø–∞ `BigDecimal` –≤ Java, 
–∏ –∫–∞–∫ —Å –Ω–∏–º–∏ —Ä–∞–±–æ—Ç–∞—Ç—å.

---

# üìè –ú–∞—Å—à—Ç–∞–± –∏ –æ–∫—Ä—É–≥–ª–µ–Ω–∏–µ —É `BigDecimal` –≤ Java

---

## üß† –ß—Ç–æ —Ç–∞–∫–æ–µ **scale** (–º–∞—Å—à—Ç–∞–±)?

**–ú–∞—Å—à—Ç–∞–±** ‚Äî —ç—Ç–æ –∫–æ–ª–∏—á–µ—Å—Ç–≤–æ –∑–Ω–∞–∫–æ–≤ –ø–æ—Å–ª–µ –∑–∞–ø—è—Ç–æ–π —É —á–∏—Å–ª–∞ `BigDecimal`.

### –ü—Ä–∏–º–µ—Ä—ã:

```java
BigDecimal a = new BigDecimal("2.00");   // scale = 2
BigDecimal b = new BigDecimal("3.5");    // scale = 1
BigDecimal c = new BigDecimal("4");      // scale = 0
```

```java
System.out.println(a.scale()); // 2
System.out.println(b.scale()); // 1
System.out.println(c.scale()); // 0
```

---

## üîÅ –ó–∞—á–µ–º –∏—Å–ø–æ–ª—å–∑–æ–≤–∞—Ç—å –º–∞—Å—à—Ç–∞–±?

–ú–∞—Å—à—Ç–∞–± —á–∞—Å—Ç–æ –≤–∞–∂–µ–Ω –≤:

* —Ñ–∏–Ω–∞–Ω—Å–æ–≤—ã—Ö —Ä–∞—Å—á–µ—Ç–∞—Ö (–Ω–∞–ø—Ä–∏–º–µ—Ä, 2 –∑–Ω–∞–∫–∞ –¥–ª—è –∫–æ–ø–µ–µ–∫)
* —Ä–∞—Å—á—ë—Ç–∞—Ö —Å —Ç–æ—á–Ω–æ—Å—Ç—å—é –¥–æ —Ç—ã—Å—è—á–Ω—ã—Ö/–º–∏–ª–ª–∏–æ–Ω–Ω—ã—Ö
* –≤—ã—Ä–∞–≤–Ω–∏–≤–∞–Ω–∏–∏ —Ñ–æ—Ä–º–∞—Ç–∞ –ø–µ—Ä–µ–¥ –≤—ã–≤–æ–¥–æ–º

---

## ‚úÇÔ∏è –£—Å—Ç–∞–Ω–æ–≤–∫–∞ –º–∞—Å—à—Ç–∞–±–∞ –≤—Ä—É—á–Ω—É—é

### –ú–µ—Ç–æ–¥: `setScale(int scale, RoundingMode mode)`

```java
BigDecimal value = new BigDecimal("2.4567");

BigDecimal scaled = value.setScale(2, RoundingMode.HALF_UP); // 2.46
System.out.println(scaled); // 2.46
```

---

## üßæ –ü–æ–¥–¥–µ—Ä–∂–∏–≤–∞–µ–º—ã–µ —Ä–µ–∂–∏–º—ã –æ–∫—Ä—É–≥–ª–µ–Ω–∏—è (`RoundingMode`)

| –†–µ–∂–∏–º         | –ß—Ç–æ –¥–µ–ª–∞–µ—Ç (–ø—Ä–æ—Å—Ç–æ)                               |
| ------------- | ------------------------------------------------- |
| `HALF_UP`     | –û–∫—Ä—É–≥–ª—è–µ—Ç –≤–≤–µ—Ä—Ö, –µ—Å–ª–∏ >= .5 (–æ–±—ã—á–Ω–æ–µ –æ–∫—Ä—É–≥–ª–µ–Ω–∏–µ)  |
| `HALF_DOWN`   | –û–∫—Ä—É–≥–ª—è–µ—Ç –≤–Ω–∏–∑, –µ—Å–ª–∏ —Ä–æ–≤–Ω–æ .5                     |
| `UP`          | –í—Å–µ–≥–¥–∞ –≤–≤–µ—Ä—Ö                                      |
| `DOWN`        | –í—Å–µ–≥–¥–∞ –≤–Ω–∏–∑ (–æ–±—Ä–µ–∑–∫–∞, –∫–∞–∫ `truncate`)             |
| `CEILING`     | –í–≤–µ—Ä—Ö –∫ +‚àû                                        |
| `FLOOR`       | –í–Ω–∏–∑ –∫ -‚àû                                         |
| `HALF_EVEN`   | "–±–∞–Ω–∫–æ–≤—Å–∫–æ–µ" –æ–∫—Ä—É–≥–ª–µ–Ω–∏–µ (.5 –∫ –±–ª–∏–∂–∞–π—à–µ–º—É —á—ë—Ç–Ω–æ–º—É) |
| `UNNECESSARY` | –û—à–∏–±–∫–∞, –µ—Å–ª–∏ —Ç—Ä–µ–±—É–µ—Ç—Å—è –æ–∫—Ä—É–≥–ª–µ–Ω–∏–µ                 |

---

## üìò –ü—Ä–∏–º–µ—Ä—ã –æ–∫—Ä—É–≥–ª–µ–Ω–∏—è

```java
BigDecimal x = new BigDecimal("2.456");

System.out.println(x.setScale(2, RoundingMode.HALF_UP));   // 2.46
System.out.println(x.setScale(2, RoundingMode.DOWN));      // 2.45
System.out.println(x.setScale(2, RoundingMode.UP));        // 2.46
```

---

## ‚ö†Ô∏è –ë–µ–∑ —É–∫–∞–∑–∞–Ω–∏—è `RoundingMode` ‚Äî –æ—à–∏–±–∫–∞!

```java
BigDecimal x = new BigDecimal("1.999");
x.setScale(2); // ‚ùå ArithmeticException
```

> –ü–æ—Ç–æ–º—É —á—Ç–æ Java –Ω–µ –∑–Ω–∞–µ—Ç, **–∫–∞–∫ –æ–∫—Ä—É–≥–ª—è—Ç—å** ‚Äî —Ç—ã –¥–æ–ª–∂–µ–Ω —É–∫–∞–∑–∞—Ç—å `RoundingMode`.

---

## ‚úÖ –í—ã–≤–æ–¥ –∑–Ω–∞—á–µ–Ω–∏—è —Å –Ω—É–∂–Ω–æ–π —Ç–æ—á–Ω–æ—Å—Ç—å—é

```java
BigDecimal price = new BigDecimal("123.4567");
System.out.println(price.setScale(2, RoundingMode.HALF_UP)); // 123.46
```

---

## üß† –ö–æ–≥–¥–∞ –∏—Å–ø–æ–ª—å–∑–æ–≤–∞—Ç—å `setScale()`?

* –ü–µ—Ä–µ–¥ –≤—ã–≤–æ–¥–æ–º –∏–ª–∏ —Å–æ—Ö—Ä–∞–Ω–µ–Ω–∏–µ–º
* –ü—Ä–∏ —Ä–∞—Å—á—ë—Ç–∞—Ö —Å —Ñ–∏–∫—Å–∏—Ä–æ–≤–∞–Ω–Ω–æ–π —Ç–æ—á–Ω–æ—Å—Ç—å—é (–Ω–∞–ø—Ä–∏–º–µ—Ä, 2 –∑–Ω–∞–∫–∞ ‚Äî –∫–æ–ø–µ–π–∫–∏)
* –ü–æ—Å–ª–µ –¥–µ–ª–µ–Ω–∏—è `divide()`, –µ—Å–ª–∏ –Ω–µ —É–∫–∞–∑–∞–ª `scale` –Ω–∞–ø—Ä—è–º—É—é

---

## üîÑ –ê–ª—å—Ç–µ—Ä–Ω–∞—Ç–∏–≤–∞: –∑–∞–¥–∞—Ç—å `scale` —Å—Ä–∞–∑—É –ø—Ä–∏ —Å–æ–∑–¥–∞–Ω–∏–∏

```java
BigDecimal amount = new BigDecimal("123.4567").setScale(2, RoundingMode.HALF_UP);
```

---

## üí° –°–æ–≤–µ—Ç –Ω–æ–≤–∏—á–∫—É

> **–í—Å–µ–≥–¥–∞ —É–∫–∞–∑—ã–≤–∞–π `scale` –∏ `RoundingMode` –ø—Ä–∏ –¥–µ–ª–µ–Ω–∏–∏ –∏–ª–∏ –æ–∫—Ä—É–≥–ª–µ–Ω–∏–∏.**
> –≠—Ç–æ –∑–∞—â–∏—Ç–∏—Ç —Ç–µ–±—è –æ—Ç –Ω–µ–æ–∂–∏–¥–∞–Ω–Ω—ã—Ö –æ—à–∏–±–æ–∫ –∏ –æ–±–µ—Å–ø–µ—á–∏—Ç —Ç–æ—á–Ω—ã–π —Ä–µ–∑—É–ª—å—Ç–∞—Ç.

---

#### –ü–æ–¥–¥–µ—Ä–∂–∫–∞, –≤–æ–ø—Ä–æ—Å—ã –∏ –æ–±—Ä–∞—Ç–Ω–∞—è —Å–≤—è–∑—å –ø–æ –ø—Ä–æ–µ–∫—Ç—É
* [–¢–µ–ª–µ–≥—Ä–∞–º–º –≥—Ä—É–ø–ø–∞ –ø—Ä–æ–µ–∫—Ç–∞](https://t.me/+mvRhG9YECTlkZjQ0)
* [–¢–µ–ª–µ–≥—Ä–∞–º–º –∞–≤—Ç–æ—Ä–∞ –∫—É—Ä—Å–∞] (@javagurulv)
* [–ï–º–µ–π–ª –∞–≤—Ç–æ—Ä–∞ –∫—É—Ä—Å–∞] (itguruby@mail.ru)
