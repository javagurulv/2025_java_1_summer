## ‚úÖ –ß—Ç–æ –∏—Å–ø–æ–ª—å–∑–æ–≤–∞—Ç—å –≤–º–µ—Å—Ç–æ `double`?

–í Java –¥–ª—è **—Ç–æ—á–Ω—ã—Ö** –≤—ã—á–∏—Å–ª–µ–Ω–∏–π (–æ—Å–æ–±–µ–Ω–Ω–æ —Å –¥–µ–Ω—å–≥–∞–º–∏) –∏—Å–ø–æ–ª—å–∑—É—é—Ç –∫–ª–∞—Å—Å:

### `BigDecimal`

```java
import java.math.BigDecimal;

BigDecimal a = new BigDecimal("0.1");
BigDecimal b = new BigDecimal("0.2");
BigDecimal c = a.add(b);
System.out.println(c); // –í—ã–≤–æ–¥: 0.3
```

### –ü—Ä–µ–∏–º—É—â–µ—Å—Ç–≤–∞:

* **–¢–æ—á–Ω–æ–µ** –ø—Ä–µ–¥—Å—Ç–∞–≤–ª–µ–Ω–∏–µ –¥–µ—Å—è—Ç–∏—á–Ω—ã—Ö —á–∏—Å–µ–ª
* –ù–µ—Ç –æ—à–∏–±–æ–∫ –æ–∫—Ä—É–≥–ª–µ–Ω–∏—è
* –ü–æ–¥—Ö–æ–¥–∏—Ç –¥–ª—è —Ä–∞–±–æ—Ç—ã —Å –≤–∞–ª—é—Ç–∞–º–∏, –ø—Ä–æ—Ü–µ–Ω—Ç–∞–º–∏ –∏ —Ç.–¥.

---

## üìù –†–µ–∑—é–º–µ

| –¢–∏–ø          | –ü–æ–¥—Ö–æ–¥–∏—Ç –¥–ª—è –¥–µ–Ω–µ–≥? | –¢–æ—á–Ω–æ—Å—Ç—å | –ü—Ä–∏–º–µ—Ä –æ—à–∏–±–∫–∏                   |
| ------------ | ------------------- | -------- | ------------------------------- |
| `double`     | ‚ùå –ù–µ—Ç              | –ù–µ—Ç      | 0.1 + 0.2 = 0.30000000000000004 |
| `BigDecimal` | ‚úÖ –î–∞               | –î–∞       | 0.1 + 0.2 = 0.3                 |

---

## üîí –°–æ–≤–µ—Ç –Ω–æ–≤–∏—á–∫–∞–º

> –ù–∏–∫–æ–≥–¥–∞ –Ω–µ –∏—Å–ø–æ–ª—å–∑—É–π—Ç–µ `float` –∏–ª–∏ `double` –¥–ª—è **—Ñ–∏–Ω–∞–Ω—Å–æ–≤—ã—Ö** —Ä–∞—Å—á—ë—Ç–æ–≤.
–ò—Å–ø–æ–ª—å–∑—É–π—Ç–µ `BigDecimal` ‚Äî –∏ –≤–∞—à–∏ –¥–µ–Ω—å–≥–∏ –±—É–¥—É—Ç –≤ –±–µ–∑–æ–ø–∞—Å–Ω–æ—Å—Ç–∏. üí∏

---

–û—Ç–ª–∏—á–Ω—ã–π –≤–æ–ø—Ä–æ—Å! –î–∞–≤–∞–π—Ç–µ —Ä–∞–∑–±–µ—Ä—ë–º—Å—è, **–∫–∞–∫ `BigDecimal` –≤–Ω—É—Ç—Ä–∏ —Ö—Ä–∞–Ω–∏—Ç –∑–Ω–∞—á–µ–Ω–∏—è** ‚Äî —Å —Ç–µ—Ö–Ω–∏—á–µ—Å–∫–æ–π, –Ω–æ –¥–æ—Å—Ç—É–ø–Ω–æ–π —Ç–æ—á–∫–∏ –∑—Ä–µ–Ω–∏—è.

---

# üß± –ö–∞–∫ —É—Å—Ç—Ä–æ–µ–Ω `BigDecimal` –≤ Java

–ö–ª–∞—Å—Å `BigDecimal` –∏–∑ –ø–∞–∫–µ—Ç–∞ `java.math` ‚Äî —ç—Ç–æ **—Ç–æ—á–Ω—ã–π —Å–ø–æ—Å–æ–± —Ö—Ä–∞–Ω–µ–Ω–∏—è –∏ –æ–±—Ä–∞–±–æ—Ç–∫–∏ –¥–µ—Å—è—Ç–∏—á–Ω—ã—Ö —á–∏—Å–µ–ª**. –í –æ—Ç–ª–∏—á–∏–µ –æ—Ç `double`, –æ–Ω **–Ω–µ –∏—Å–ø–æ–ª—å–∑—É–µ—Ç –¥–≤–æ–∏—á–Ω—É—é —Å–∏—Å—Ç–µ–º—É —Å –ø–ª–∞–≤–∞—é—â–µ–π —Ç–æ—á–∫–æ–π**, –∞ —Ö—Ä–∞–Ω–∏—Ç –∑–Ω–∞—á–µ–Ω–∏—è **–≤ –¥–µ—Å—è—Ç–∏—á–Ω–æ–π —Å–∏—Å—Ç–µ–º–µ**, –∫–∞–∫ —á–µ–ª–æ–≤–µ–∫ –∑–∞–ø–∏—Å–∞–ª –±—ã –Ω–∞ –±—É–º–∞–≥–µ.

---

## üì¶ –í–Ω—É—Ç—Ä–µ–Ω–Ω–µ–µ —É—Å—Ç—Ä–æ–π—Å—Ç–≤–æ `BigDecimal`

–í–Ω—É—Ç—Ä–∏ `BigDecimal` —Å–æ–¥–µ—Ä–∂–∏—Ç –¥–≤–∞ –æ—Å–Ω–æ–≤–Ω—ã—Ö –ø–æ–ª—è:

```java
private BigInteger intVal;  // –ó–Ω–∞—á–∞—â–∏–µ —Ü–∏—Ñ—Ä—ã (–º–∞–Ω—Ç–∏—Å—Å–∞)
private int scale;          // –ú–∞—Å—à—Ç–∞–± (–∫–æ–ª-–≤–æ —Ü–∏—Ñ—Ä –ø–æ—Å–ª–µ –∑–∞–ø—è—Ç–æ–π)
```

> –¢–æ –µ—Å—Ç—å:
>
> $$
> \text{BigDecimal} = \text{intVal} \times 10^{-\text{scale}}
> $$

---

## üîç –ü—Ä–∏–º–µ—Ä

```java
BigDecimal x = new BigDecimal("123.45");
```

| –ö–æ–º–ø–æ–Ω–µ–Ω—Ç | –ó–Ω–∞—á–µ–Ω–∏–µ                      |
| --------- | ----------------------------- |
| `intVal`  | `12345` (—Ü–µ–ª–æ–µ —á–∏—Å–ª–æ)         |
| `scale`   | `2` (–¥–≤–µ —Ü–∏—Ñ—Ä—ã –ø–æ—Å–ª–µ –∑–∞–ø—è—Ç–æ–π) |

![img.png](12345.png)

–¢–æ –µ—Å—Ç—å:

$$
12345 \times 10^{-2} = 123.45
$$

---

## ‚õì –ö–∞–∫ —Ö—Ä–∞–Ω—è—Ç—Å—è –±–æ–ª—å—à–∏–µ —á–∏—Å–ª–∞?

`intVal` ‚Äî —ç—Ç–æ –æ–±—ä–µ–∫—Ç `BigInteger`, –∫–æ—Ç–æ—Ä—ã–π –≤–Ω—É—Ç—Ä–∏ 
—Å–æ–¥–µ—Ä–∂–∏—Ç **–º–∞—Å—Å–∏–≤ `int[]`**, –≥–¥–µ –∫–∞–∂–¥–æ–µ —á–∏—Å–ª–æ ‚Äî 32 –±–∏—Ç–∞. 
–≠—Ç–æ –ø–æ–∑–≤–æ–ª—è–µ—Ç `BigDecimal` –æ–ø–µ—Ä–∏—Ä–æ–≤–∞—Ç—å —Å 
**–æ—á–µ–Ω—å –±–æ–ª—å—à–∏–º–∏ –∏–ª–∏ –æ—á–µ–Ω—å –º–∞–ª—ã–º–∏** —á–∏—Å–ª–∞–º–∏ –±–µ–∑ –ø–æ—Ç–µ—Ä–∏ —Ç–æ—á–Ω–æ—Å—Ç–∏.

---

## ‚öñÔ∏è –ü–æ—á–µ–º—É `BigDecimal` —Ç–æ—á–Ω—ã–π?

–ü–æ—Ç–æ–º—É —á—Ç–æ –æ–Ω:

* –•—Ä–∞–Ω–∏—Ç **–∫–∞–∂–¥—É—é —Ü–∏—Ñ—Ä—É –¥–µ—Å—è—Ç–∏—á–Ω–æ–≥–æ —á–∏—Å–ª–∞ —è–≤–Ω–æ**
* –ù–µ –∑–∞–≤–∏—Å–∏—Ç –æ—Ç –æ–∫—Ä—É–≥–ª–µ–Ω–∏–π, –ø—Ä–∏—Å—É—â–∏—Ö `double`
* –ù–µ –∏–º–µ–µ—Ç –æ–≥—Ä–∞–Ω–∏—á–µ–Ω–∏–π –Ω–∞ —Ç–æ—á–Ω–æ—Å—Ç—å, –∫—Ä–æ–º–µ –æ–ø–µ—Ä–∞—Ç–∏–≤–Ω–æ–π –ø–∞–º—è—Ç–∏

---

## üìê –ü—Ä–∏–º–µ—Ä—ã –≤—ã—á–∏—Å–ª–µ–Ω–∏–π

```java
BigDecimal a = new BigDecimal("0.1");
BigDecimal b = new BigDecimal("0.2");
BigDecimal c = a.add(b);
System.out.println(c); // 0.3
```

–ê–Ω–∞–ª–æ–≥–∏—á–Ω–æ–µ –Ω–∞ `double` –¥–∞—Å—Ç:

```java
System.out.println(0.1 + 0.2); // 0.30000000000000004
```

---

## ‚ùó –ß—Ç–æ –≤–∞–∂–Ω–æ –ø–æ–º–Ω–∏—Ç—å

* **–ù–∏–∫–æ–≥–¥–∞ –Ω–µ —Å–æ–∑–¥–∞–≤–∞–π—Ç–µ `BigDecimal` –∏–∑ `double` –Ω–∞–ø—Ä—è–º—É—é:**

```java
new BigDecimal(0.1); // ‚ùå –ù–ï –î–ï–õ–ê–ô–¢–ï –¢–ê–ö
```

–≠—Ç–æ —Å–æ—Ö—Ä–∞–Ω–∏—Ç **–Ω–µ—Ç–æ—á–Ω–æ–µ –∑–Ω–∞—á–µ–Ω–∏–µ** `0.1`, —É–∂–µ –∏—Å–ø–æ—Ä—á–µ–Ω–Ω–æ–µ double.

* –î–µ–ª–∞–π—Ç–µ —Ç–∞–∫:

```java
new BigDecimal("0.1"); // ‚úÖ –ø—Ä–∞–≤–∏–ª—å–Ω–æ
```

---

## ‚úÖ –í—ã–≤–æ–¥

| –•–∞—Ä–∞–∫—Ç–µ—Ä–∏—Å—Ç–∏–∫–∞                | BigDecimal                                     |
| ----------------------------- | ---------------------------------------------- |
| –ü—Ä–µ–¥—Å—Ç–∞–≤–ª–µ–Ω–∏–µ                 | `BigInteger` (–∑–Ω–∞—á–∞—â–∏–µ —Ü–∏—Ñ—Ä—ã) + `scale`        |
| –û—Å–Ω–æ–≤–∞–Ω–∏–µ                     | 10 (–¥–µ—Å—è—Ç–∏—á–Ω–æ–µ)                                |
| –¢–æ—á–Ω–æ—Å—Ç—å                      | –ü–æ—á—Ç–∏ –Ω–µ–æ–≥—Ä–∞–Ω–∏—á–µ–Ω–Ω–∞—è                           |
| –¢–∏–ø–∏—á–Ω—ã–π —Å–ª—É—á–∞–π –∏—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏—è | –î–µ–Ω—å–≥–∏, –ø—Ä–æ—Ü–µ–Ω—Ç—ã, –æ—Ç—á—ë—Ç–Ω–æ—Å—Ç—å                   |
| –ù–µ–¥–æ—Å—Ç–∞—Ç–æ–∫                    | –ú–µ–¥–ª–µ–Ω–Ω–µ–µ, —á–µ–º `double`, —Ç—Ä–µ–±—É–µ—Ç –±–æ–ª—å—à–µ –ø–∞–º—è—Ç–∏ |

---

#### –ü–æ–¥–¥–µ—Ä–∂–∫–∞, –≤–æ–ø—Ä–æ—Å—ã –∏ –æ–±—Ä–∞—Ç–Ω–∞—è —Å–≤—è–∑—å –ø–æ –ø—Ä–æ–µ–∫—Ç—É
* [–¢–µ–ª–µ–≥—Ä–∞–º–º –≥—Ä—É–ø–ø–∞ –ø—Ä–æ–µ–∫—Ç–∞](https://t.me/+mvRhG9YECTlkZjQ0)
* [–¢–µ–ª–µ–≥—Ä–∞–º–º –∞–≤—Ç–æ—Ä–∞ –∫—É—Ä—Å–∞] (@javagurulv)
* [–ï–º–µ–π–ª –∞–≤—Ç–æ—Ä–∞ –∫—É—Ä—Å–∞] (itguruby@mail.ru)
